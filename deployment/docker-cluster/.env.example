# ===============================================
# EchoMind Docker Cluster Configuration
# ===============================================
# Copy this file to .env and fill in your values

# ===============================================
# Versioning
# ===============================================
# Main version for Docker Hub releases
ECHOMIND_VERSION=0.1.0-beta.2

# Per-service versions (for independent versioning if needed)
API_VERSION=${ECHOMIND_VERSION}
MIGRATION_VERSION=${ECHOMIND_VERSION}
EMBEDDER_VERSION=${ECHOMIND_VERSION}
ORCHESTRATOR_VERSION=${ECHOMIND_VERSION}
CONNECTOR_VERSION=${ECHOMIND_VERSION}
INGESTOR_VERSION=${ECHOMIND_VERSION}
GUARDIAN_VERSION=${ECHOMIND_VERSION}

# ===============================================
# Paths (relative to docker-compose.yml location)
# ===============================================
CONFIG_PATH=../../config
DATA_PATH=../../data

# ===============================================
# Domain Configuration
# ===============================================
# Local development: use localhost or .local domain
DOMAIN=localhost

# Production: uncomment and set your domain
# DOMAIN=echomind.genmind.ch

# Authentik subdomain
AUTHENTIK_DOMAIN=auth.${DOMAIN}

# Timezone
TZ=UTC

# ===============================================
# PostgreSQL Configuration
# ===============================================
POSTGRES_USER=echomind
POSTGRES_PASSWORD=changeme_secure_password_here
POSTGRES_DB=postgres

# Database names (created by init-db.sql)
AUTHENTIK_DB_NAME=authentik
API_DB_NAME=echomind

# ===============================================
# Authentik Configuration
# ===============================================
# Generate secret key with: openssl rand -base64 32
AUTHENTIK_SECRET_KEY=changeme_generate_with_openssl_rand_base64_32


# Bootstrap admin credentials (only used on first startup)
# Username will be: akadmin
AUTHENTIK_BOOTSTRAP_PASSWORD=echomindauth
AUTHENTIK_BOOTSTRAP_EMAIL=admin@echomind.local

# ===============================================
# MinIO Configuration
# ===============================================
MINIO_ROOT_USER=minioadmin
MINIO_ROOT_PASSWORD=changeme_minio_password_here

# ===============================================
# Web Frontend Configuration
# ===============================================
WEB_VERSION=${ECHOMIND_VERSION}

# OIDC Settings (from Authentik OAuth2 Provider)
# Steps to configure:
# 1. Go to Authentik Admin → Applications → Providers → Create OAuth2 Provider
# 2. Name: echomind-web
# 3. Client type: Public
# 4. Redirect URIs: http://localhost/auth/callback (dev) or https://YOUR_DOMAIN/auth/callback (prod)
# 5. Copy the Client ID below

# For local development:
WEB_OIDC_AUTHORITY=http://auth.localhost/application/o/echomind-web/
WEB_OIDC_CLIENT_ID=PASTE_CLIENT_ID_FROM_AUTHENTIK

# ===============================================
# Production SSL Configuration (Let's Encrypt)
# ===============================================
# Uncomment for production deployment
# ACME_EMAIL=your-email@example.com
# DOMAIN=your-domain.com
